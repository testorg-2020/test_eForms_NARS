name: Testing Python Scripts

on: push

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Code
        uses: actions/checkout@v2
        
      - name: Get App Name from local.yml
        shell: python
        run: |
          import os
          os.chdir(os.environ["GITHUB_WORKSPACE"])
          f = open("local.yml", "r")
          for line in f.readlines():
            if line.startswith("- name:"):
              os.environ["DOCKER_TAGNAME"] = line.split(":")[1].strip()
          f.close()
        env:
          docker_tagname: ""

      # - name: Print new environment variable
      #   run: echo ${{ docker_tagname }}
